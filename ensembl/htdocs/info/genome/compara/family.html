<html>
<head>
  <title>Gene Families</title>
</head>

<body>
<div class="info left-margin right-margin">
  <h3>Deprecated</h3>
  <div class="message-pad">
    <p>Compara gene and protein families were retired as of release 102, as announced in a <a href="https://www.ensembl.info/2020/11/24/gene-and-protein-families-retiring/">November 2020 Ensembl blog post</p>
  </div>
</div>

<h1>Gene Families in Compara</h1>

<p>Ensembl families are determined through classification of all Ensembl proteins, including multiple isoforms of the same gene, along with metazoan sequences from <a href="http://www.uniprot.org/">UniProt</a>. It therefore provides a way of exploring orthologues and closely related homologues across a range of animal species.</p>

<h2 id="pipeline">Pipeline</h2>

<p>The pipeline consists of the following steps:</p>

<ol>
<li>Load proteins from Ensembl and UniProt.</li>

<li>Run an HMM search on <a href="/info/genome/compara/hmm_lib.html">the TreeFam HMM library</a> to classify the sequences into their families.</li>

<li>Align the families with <a href="http://mafft.cbrc.jp/alignment/software/">Mafft</a>.</li>

<li>Annotate the family with a consensus description, based on its members' descriptions.</li>
</ol>

<h3 id="familyid">Family ID</h3>

<p>The families have been assigned the stable ID of their <a href="/info/genome/compara/hmm_lib.html">corresponding HMM</a>.</p>

<h3 id="consensusannotation">Consensus Annotation</h3>

<p>For each cluster obtained, a consensus annotation is automatically generated from the UniProt description lines using the following approach: </p>

<ul>
<li>If the description covers less than 40% of UniProt members in the cluster, the family description is assigned 'AMBIGUOUS'.</li>

<li>If the annotation confidence score, described below, is zero, 'UNKNOWN' is assigned.</li>

<li>Be aware that 'UNCHARACTERIZED' is a UniProt description for a protein, and does not reflect the score. </li>
</ul>

<p>The annotation confidence score is the percentage of UniProt family members with this description, or part of it. Note that only family members with 'informative' UniProt descriptions are taken into account.</p>

<h3 id="multiplealignments">Multiple Alignments</h3>

<p>Ensembl provides pre-calculated multiple sequence alignments of all members for each cluster. We provide a <a href="http://wasabiapp.org/">Wasabi viewer</a> in the browser for viewing the alignments between just the Ensembl proteins, and the Ensembl and UniProt proteins together. You can also export a text file with the alignments of all the family members - a wide range of formats is available from the control panel.</p>
<p>Alternatively, export alignments using the <a href="/info/docs/api/compara/index.html">Compara Perl API</a>.</p>


</body>
</html>
